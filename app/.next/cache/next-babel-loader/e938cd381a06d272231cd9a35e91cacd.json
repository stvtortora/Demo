{"ast":null,"code":"import { getThemes, updateTheme, createTheme, deleteTheme } from \"../api/theme_api\";\nimport { useEffect, useState } from \"react\";\nimport defaultThemeValues from \"../themes/defaultThemeValues\";\nexport const useThemeOptions = () => {\n  const {\n    0: themeOptions,\n    1: setThemeOptions\n  } = useState([defaultThemeValues]);\n  useEffect(() => {\n    const callGetThemes = async () => {\n      const options = await getThemes();\n      setThemeOptions([defaultTheme].concat(options));\n    };\n\n    callGetThemes();\n    return console.log(\"UNMOUNTING\");\n  }, []);\n\n  const onUpdateTheme = async theme => {\n    const updatedTheme = await updateTheme(theme);\n    const updatedThemeOptions = themeOptions.map(theme => theme.id !== updatedTheme.id ? theme : updatedTheme);\n    setThemeOptions(updatedThemeOptions);\n  };\n\n  const onCreateTheme = async theme => {\n    const newTheme = await createTheme(theme);\n    const updatedThemeOptions = themeOptions.concat([newTheme]);\n    setThemeOptions(updatedThemeOptions);\n  };\n\n  const onDeleteTheme = async themeId => {\n    await deleteTheme(themeId);\n    const updatedThemeOptions = themeOptions.filter(theme => theme.id !== themeId);\n    setThemeOptions(updatedThemeOptions);\n  };\n\n  return {\n    themeOptions,\n    onUpdateTheme,\n    onCreateTheme,\n    onDeleteTheme\n  };\n};","map":{"version":3,"sources":["/Users/steven/Documents/lootcrate/gimme-the-loot/src/hooks/useThemeOptions.jsx"],"names":["getThemes","updateTheme","createTheme","deleteTheme","useEffect","useState","defaultThemeValues","useThemeOptions","themeOptions","setThemeOptions","callGetThemes","options","defaultTheme","concat","console","log","onUpdateTheme","theme","updatedTheme","updatedThemeOptions","map","id","onCreateTheme","newTheme","onDeleteTheme","themeId","filter"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,WAApB,EAAiCC,WAAjC,EAA8CC,WAA9C,QAAiE,kBAAjE;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,kBAAP,MAA+B,8BAA/B;AAGA,OAAO,MAAMC,eAAe,GAAG,MAAM;AACjC,QAAM;AAAA,OAACC,YAAD;AAAA,OAAeC;AAAf,MAAkCJ,QAAQ,CAAC,CAACC,kBAAD,CAAD,CAAhD;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMM,aAAa,GAAG,YAAY;AAC9B,YAAMC,OAAO,GAAG,MAAMX,SAAS,EAA/B;AACAS,MAAAA,eAAe,CAAC,CAACG,YAAD,EAAeC,MAAf,CAAsBF,OAAtB,CAAD,CAAf;AACH,KAHD;;AAKAD,IAAAA,aAAa;AAEb,WAAOI,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAP;AACH,GATQ,EASN,EATM,CAAT;;AAWA,QAAMC,aAAa,GAAG,MAAOC,KAAP,IAAiB;AACnC,UAAMC,YAAY,GAAG,MAAMjB,WAAW,CAACgB,KAAD,CAAtC;AACA,UAAME,mBAAmB,GAAGX,YAAY,CAACY,GAAb,CAAiBH,KAAK,IAAIA,KAAK,CAACI,EAAN,KAAaH,YAAY,CAACG,EAA1B,GAA+BJ,KAA/B,GAAuCC,YAAjE,CAA5B;AACAT,IAAAA,eAAe,CAACU,mBAAD,CAAf;AACH,GAJD;;AAMA,QAAMG,aAAa,GAAG,MAAOL,KAAP,IAAiB;AACnC,UAAMM,QAAQ,GAAG,MAAMrB,WAAW,CAACe,KAAD,CAAlC;AACA,UAAME,mBAAmB,GAAGX,YAAY,CAACK,MAAb,CAAoB,CAACU,QAAD,CAApB,CAA5B;AACAd,IAAAA,eAAe,CAACU,mBAAD,CAAf;AACH,GAJD;;AAMA,QAAMK,aAAa,GAAG,MAAOC,OAAP,IAAmB;AACrC,UAAMtB,WAAW,CAACsB,OAAD,CAAjB;AACA,UAAMN,mBAAmB,GAAGX,YAAY,CAACkB,MAAb,CAAoBT,KAAK,IAAIA,KAAK,CAACI,EAAN,KAAaI,OAA1C,CAA5B;AACAhB,IAAAA,eAAe,CAACU,mBAAD,CAAf;AACH,GAJD;;AAMA,SAAO;AAAEX,IAAAA,YAAF;AAAgBQ,IAAAA,aAAhB;AAA+BM,IAAAA,aAA/B;AAA8CE,IAAAA;AAA9C,GAAP;AACH,CAjCM","sourcesContent":["import { getThemes, updateTheme, createTheme, deleteTheme } from \"../api/theme_api\"\nimport { useEffect, useState } from \"react\";\nimport defaultThemeValues from \"../themes/defaultThemeValues\";\n\n\nexport const useThemeOptions = () => {\n    const [themeOptions, setThemeOptions] = useState([defaultThemeValues]);\n\n    useEffect(() => {\n        const callGetThemes = async () => {\n            const options = await getThemes();  \n            setThemeOptions([defaultTheme].concat(options));  \n        }\n\n        callGetThemes();\n\n        return console.log(\"UNMOUNTING\");\n    }, []);\n\n    const onUpdateTheme = async (theme) => {\n        const updatedTheme = await updateTheme(theme);\n        const updatedThemeOptions = themeOptions.map(theme => theme.id !== updatedTheme.id ? theme : updatedTheme);\n        setThemeOptions(updatedThemeOptions);\n    }\n\n    const onCreateTheme = async (theme) => {\n        const newTheme = await createTheme(theme);\n        const updatedThemeOptions = themeOptions.concat([newTheme]);\n        setThemeOptions(updatedThemeOptions);\n    }\n\n    const onDeleteTheme = async (themeId) => {\n        await deleteTheme(themeId);\n        const updatedThemeOptions = themeOptions.filter(theme => theme.id !== themeId);\n        setThemeOptions(updatedThemeOptions);\n    }\n\n    return { themeOptions, onUpdateTheme, onCreateTheme, onDeleteTheme }\n}"]},"metadata":{},"sourceType":"module"}