{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/steven/Documents/lootcrate/gimme-the-loot/src/components/Tabs/theme_form.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n\", \"\\n\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  background-color: \", \";\\n  height: 15px;\\n  width: 15px;\\n  &:hover {\\n    cursor: pointer;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  margin-bottom: 10px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { Grid } from \"../CoreUI/Grid/Grid\";\nimport { GridElement } from \"../CoreUI/Grid/GridElement\";\nimport { GridElementHeaderProps } from \"../../utils/styleUtils/commonTextProps\";\nimport { SimpleText } from \"../CoreUI/Text/SimpleText\";\nimport { DecoratedText } from \"../CoreUI/Text/DecoratedText\";\nimport { CompactPicker } from \"react-color\";\nimport { RelativePop } from \"../CoreUI/Popover/RelativePop\";\nimport { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\nvar ThemeFieldWrapper = styled.div(_templateObject());\n_c = ThemeFieldWrapper;\nvar ColorSquare = styled.div(_templateObject2(), function (props) {\n  return props.color;\n});\n_c2 = ColorSquare;\n\nvar ThemeField = function ThemeField(_ref) {\n  _s();\n\n  var textConfig = _ref.textConfig,\n      popColor = _ref.popColor,\n      displayName = _ref.displayName,\n      value = _ref.value,\n      fieldKey = _ref.fieldKey,\n      updateTheme = _ref.updateTheme;\n  var fieldRef = useRef(null);\n\n  var getFieldRef = function getFieldRef() {\n    return fieldRef;\n  };\n\n  var _useState = useState(false),\n      pickerOpen = _useState[0],\n      setPickerOpen = _useState[1];\n\n  var onChangeComplete = function onChangeComplete(newColor) {\n    updateTheme(fieldKey, newColor.hex);\n    setPickerOpen(false);\n  };\n\n  var onTogglePicker = function onTogglePicker() {\n    return setPickerOpen(!pickerOpen);\n  };\n\n  return __jsx(ThemeFieldWrapper, {\n    ref: fieldRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, pickerOpen && __jsx(RelativePop, {\n    height: \"89px\",\n    width: \"245px\",\n    position: {\n      horizontal: 7.5,\n      vertical: 0\n    },\n    margin: \"20px 0 0 0\",\n    arrowPosition: 3,\n    backgroundColor: popColor,\n    borderColor: \"black\",\n    onClickAway: onTogglePicker,\n    getParentRef: getFieldRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, __jsx(CompactPicker, {\n    color: value,\n    onChangeComplete: onChangeComplete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  })), __jsx(DecoratedText, _extends({}, textConfig, {\n    decoration: __jsx(ColorSquare, {\n      color: value,\n      onClick: onTogglePicker,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), displayName));\n};\n\n_s(ThemeField, \"Q8R4kpam1JOmOQBTkKXR+TrUjcU=\");\n\n_c3 = ThemeField;\nvar SaveButton = styled.div(_templateObject3(), function (props) {\n  return \"margin-right: 30px;\\n    border: 1px solid \".concat(props.borderColor, \";\\n    border-radius: 4px;\\n    opacity: 1;\\n    background: \").concat(props.backgroundColor, \" 0% 0% no-repeat padding-box;\\n    width: 185px;\\n    height: 50px;\\n    color: \").concat(props.color, \";\\n    font-size: 18px;\\n    font-family: \\\"Source Sans Pro\\\", sans-serif;\\n    cursor: pointer;\\n    &:hover {\\n      background-color: \").concat(props.hoverBackground, \";\\n    }\");\n});\n_c4 = SaveButton;\nexport var ThemeForm = function ThemeForm(_ref2) {\n  _s2();\n\n  var currentTheme = _ref2.currentTheme,\n      initialValues = _ref2.initialValues,\n      onSave = _ref2.onSave;\n\n  var _useState2 = useState(initialValues),\n      themeValues = _useState2[0],\n      setThemeValues = _useState2[1];\n\n  var updateTheme = function updateTheme(fieldKey, newVal) {\n    setThemeValues(_objectSpread(_objectSpread({}, themeValues), {}, _defineProperty({}, fieldKey, newVal)));\n  };\n\n  var fields = Object.keys(initialValues).reduce(function (result, fieldKey) {\n    var fieldVal = initialValues[fieldKey];\n    var fieldKeyParts = fieldKey.split(\"_\");\n    var fieldGroup = fieldKeyParts[0];\n    var field = fieldKeyParts[fieldKeyParts.length - 1];\n\n    if (!result[fieldGroup]) {\n      result[fieldGroup] = {};\n    }\n\n    result[fieldGroup][field] = {\n      fieldKey: fieldKey,\n      displayName: field[0].toUpperCase() + field.slice(1),\n      value: fieldVal\n    };\n    return result;\n  }, {});\n  var _currentTheme$text = currentTheme.text,\n      primaryStyle = _currentTheme$text.styles.primary,\n      primaryColor = _currentTheme$text.colors.primary,\n      small = _currentTheme$text.sizes.small,\n      primaryBorderColor = currentTheme.border.colors.primary,\n      primarySurfaceColor = currentTheme.surface.colors.primary,\n      popColor = currentTheme.surface.colors.primary;\n  var fieldTextConfig = {\n    style: primaryStyle,\n    size: small,\n    color: primaryColor\n  };\n\n  var getFieldsByGroup = function getFieldsByGroup(group) {\n    return Object.keys(group).map(function (fieldKey) {\n      var field = group[fieldKey];\n      return __jsx(ThemeField, {\n        textConfig: fieldTextConfig,\n        popColor: popColor,\n        displayName: field.displayName,\n        value: field.value,\n        fieldKey: field.fieldKey,\n        updateTheme: updateTheme,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 9\n        }\n      });\n    });\n  };\n\n  var handleSave = function handleSave() {\n    return onSave(themeValues);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(SaveButton, {\n    color: primaryColor,\n    backgroundColor: primarySurfaceColor,\n    borderColor: primaryBorderColor,\n    onClick: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }, \"Save\"), __jsx(Grid, {\n    numCols: 12,\n    numRows: 4,\n    rowUnit: \"135px\",\n    colUnit: \"56px\",\n    key: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, __jsx(GridElement, {\n    position: {\n      startCol: 1,\n      endCol: 5,\n      startRow: 1,\n      endRow: 2\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, __jsx(SimpleText, _extends({}, GridElementHeaderProps(currentTheme), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }), \"Background\"), getFieldsByGroup(fields.background)), __jsx(GridElement, {\n    position: {\n      startCol: 5,\n      endCol: 9,\n      startRow: 1,\n      endRow: 2\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, __jsx(SimpleText, _extends({}, GridElementHeaderProps(currentTheme), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }), \"Border\"), getFieldsByGroup(fields.border)), __jsx(GridElement, {\n    position: {\n      startCol: 9,\n      endCol: 13,\n      startRow: 1,\n      endRow: 2\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, __jsx(SimpleText, _extends({}, GridElementHeaderProps(currentTheme), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }), \"Surface\"), getFieldsByGroup(fields.surface)), __jsx(GridElement, {\n    position: {\n      startCol: 1,\n      endCol: 5,\n      startRow: 2,\n      endRow: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }\n  }, __jsx(SimpleText, _extends({}, GridElementHeaderProps(currentTheme), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 11\n    }\n  }), \"Text\"), getFieldsByGroup(fields.text)), __jsx(GridElement, {\n    position: {\n      startCol: 5,\n      endCol: 9,\n      startRow: 2,\n      endRow: 4\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, __jsx(SimpleText, _extends({}, GridElementHeaderProps(currentTheme), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }), \"Icon\"), getFieldsByGroup(fields.icon)), __jsx(GridElement, {\n    position: {\n      startCol: 5,\n      endCol: 9,\n      startRow: 4,\n      endRow: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, __jsx(SimpleText, _extends({}, GridElementHeaderProps(currentTheme), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }), \"Tab\"), getFieldsByGroup(fields.tab))));\n};\n\n_s2(ThemeForm, \"IeLqouBLCOUNnHrXLO/NySDzhQQ=\");\n\n_c5 = ThemeForm;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"ThemeFieldWrapper\");\n$RefreshReg$(_c2, \"ColorSquare\");\n$RefreshReg$(_c3, \"ThemeField\");\n$RefreshReg$(_c4, \"SaveButton\");\n$RefreshReg$(_c5, \"ThemeForm\");","map":{"version":3,"sources":["/Users/steven/Documents/lootcrate/gimme-the-loot/src/components/Tabs/theme_form.jsx"],"names":["Grid","GridElement","GridElementHeaderProps","SimpleText","DecoratedText","CompactPicker","RelativePop","useState","useRef","styled","ThemeFieldWrapper","div","ColorSquare","props","color","ThemeField","textConfig","popColor","displayName","value","fieldKey","updateTheme","fieldRef","getFieldRef","pickerOpen","setPickerOpen","onChangeComplete","newColor","hex","onTogglePicker","horizontal","vertical","SaveButton","borderColor","backgroundColor","hoverBackground","ThemeForm","currentTheme","initialValues","onSave","themeValues","setThemeValues","newVal","fields","Object","keys","reduce","result","fieldVal","fieldKeyParts","split","fieldGroup","field","length","toUpperCase","slice","text","primaryStyle","styles","primary","primaryColor","colors","small","sizes","primaryBorderColor","border","primarySurfaceColor","surface","fieldTextConfig","style","size","getFieldsByGroup","group","map","handleSave","startCol","endCol","startRow","endRow","background","icon","tab"],"mappings":"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","sourcesContent":["import { Grid } from \"../CoreUI/Grid/Grid\";\nimport { GridElement } from \"../CoreUI/Grid/GridElement\";\nimport { GridElementHeaderProps } from \"../../utils/styleUtils/commonTextProps\";\nimport { SimpleText } from \"../CoreUI/Text/SimpleText\";\nimport { DecoratedText } from \"../CoreUI/Text/DecoratedText\";\nimport { CompactPicker } from \"react-color\";\nimport { RelativePop } from \"../CoreUI/Popover/RelativePop\";\nimport { useState, useRef } from \"react\";\nimport styled from \"styled-components\";\n\nconst ThemeFieldWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 10px;\n`;\n\nconst ColorSquare = styled.div`\n  background-color: ${(props) => props.color};\n  height: 15px;\n  width: 15px;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst ThemeField = ({\n  textConfig,\n  popColor,\n  displayName,\n  value,\n  fieldKey,\n  updateTheme,\n}) => {\n  const fieldRef = useRef(null);\n  const getFieldRef = () => {\n    return fieldRef;\n  };\n\n  const [pickerOpen, setPickerOpen] = useState(false);\n\n  const onChangeComplete = (newColor) => {\n    updateTheme(fieldKey, newColor.hex);\n    setPickerOpen(false);\n  };\n\n  const onTogglePicker = () => setPickerOpen(!pickerOpen);\n\n  return (\n    <ThemeFieldWrapper ref={fieldRef}>\n      {pickerOpen && (\n        <RelativePop\n          height=\"89px\"\n          width=\"245px\"\n          position={{\n            horizontal: 7.5,\n            vertical: 0,\n          }}\n          margin=\"20px 0 0 0\"\n          arrowPosition={3}\n          backgroundColor={popColor}\n          borderColor=\"black\"\n          onClickAway={onTogglePicker}\n          getParentRef={getFieldRef}\n        >\n          <CompactPicker color={value} onChangeComplete={onChangeComplete} />\n        </RelativePop>\n      )}\n      <DecoratedText\n        {...textConfig}\n        decoration={<ColorSquare color={value} onClick={onTogglePicker} />}\n      >\n        {displayName}\n      </DecoratedText>\n    </ThemeFieldWrapper>\n  );\n};\n\nconst SaveButton = styled.div`\n${(props) => {\n    return `margin-right: 30px;\n    border: 1px solid ${props.borderColor};\n    border-radius: 4px;\n    opacity: 1;\n    background: ${props.backgroundColor} 0% 0% no-repeat padding-box;\n    width: 185px;\n    height: 50px;\n    color: ${props.color};\n    font-size: 18px;\n    font-family: \"Source Sans Pro\", sans-serif;\n    cursor: pointer;\n    &:hover {\n      background-color: ${props.hoverBackground};\n    }`\n}}\n\n`;\n\nexport const ThemeForm = ({ currentTheme, initialValues, onSave }) => {\n  const [themeValues, setThemeValues] = useState(initialValues);\n\n  const updateTheme = (fieldKey, newVal) => {\n    setThemeValues({\n      ...themeValues,\n      [fieldKey]: newVal,\n    });\n  };\n\n  const fields = Object.keys(initialValues).reduce((result, fieldKey) => {\n    const fieldVal = initialValues[fieldKey];\n\n    const fieldKeyParts = fieldKey.split(\"_\");\n    const fieldGroup = fieldKeyParts[0];\n    const field = fieldKeyParts[fieldKeyParts.length - 1];\n\n    if (!result[fieldGroup]) {\n      result[fieldGroup] = {};\n    }\n\n    result[fieldGroup][field] = {\n      fieldKey,\n      displayName: field[0].toUpperCase() + field.slice(1),\n      value: fieldVal,\n    };\n\n    return result;\n  }, {});\n\n  const {\n    text: {\n      styles: { primary: primaryStyle },\n      colors: { primary: primaryColor },\n      sizes: { small },\n    },\n    border: { colors: { primary: primaryBorderColor }},\n    surface: {\n        colors: { primary: primarySurfaceColor }\n    },\n    surface: {\n      colors: { primary: popColor },\n    },\n  } = currentTheme;\n\n  const fieldTextConfig = {\n    style: primaryStyle,\n    size: small,\n    color: primaryColor,\n  };\n\n  const getFieldsByGroup = (group) => {\n    return Object.keys(group).map((fieldKey) => {\n      const field = group[fieldKey];\n      return (\n        <ThemeField\n          textConfig={fieldTextConfig}\n          popColor={popColor}\n          displayName={field.displayName}\n          value={field.value}\n          fieldKey={field.fieldKey}\n          updateTheme={updateTheme}\n        />\n      );\n    });\n  };\n\n  const handleSave = () => onSave(themeValues);\n\n  return (\n    <>\n      <SaveButton color={primaryColor} backgroundColor={primarySurfaceColor} borderColor={primaryBorderColor} onClick={handleSave}>Save</SaveButton>\n      <Grid numCols={12} numRows={4} rowUnit=\"135px\" colUnit=\"56px\" key={1}>\n        <GridElement\n          position={{\n            startCol: 1,\n            endCol: 5,\n            startRow: 1,\n            endRow: 2,\n          }}\n        >\n          <SimpleText {...GridElementHeaderProps(currentTheme)}>\n            Background\n          </SimpleText>\n          {getFieldsByGroup(fields.background)}\n        </GridElement>\n        <GridElement\n          position={{\n            startCol: 5,\n            endCol: 9,\n            startRow: 1,\n            endRow: 2,\n          }}\n        >\n          <SimpleText {...GridElementHeaderProps(currentTheme)}>\n            Border\n          </SimpleText>\n          {getFieldsByGroup(fields.border)}\n        </GridElement>\n        <GridElement\n          position={{\n            startCol: 9,\n            endCol: 13,\n            startRow: 1,\n            endRow: 2,\n          }}\n        >\n          <SimpleText {...GridElementHeaderProps(currentTheme)}>\n            Surface\n          </SimpleText>\n          {getFieldsByGroup(fields.surface)}\n        </GridElement>\n        <GridElement\n          position={{\n            startCol: 1,\n            endCol: 5,\n            startRow: 2,\n            endRow: 5,\n          }}\n        >\n          <SimpleText {...GridElementHeaderProps(currentTheme)}>\n            Text\n          </SimpleText>\n          {getFieldsByGroup(fields.text)}\n        </GridElement>\n        <GridElement\n          position={{\n            startCol: 5,\n            endCol: 9,\n            startRow: 2,\n            endRow: 4,\n          }}\n        >\n          <SimpleText {...GridElementHeaderProps(currentTheme)}>\n            Icon\n          </SimpleText>\n          {getFieldsByGroup(fields.icon)}\n        </GridElement>\n        <GridElement\n          position={{\n            startCol: 5,\n            endCol: 9,\n            startRow: 4,\n            endRow: 5,\n          }}\n        >\n          <SimpleText {...GridElementHeaderProps(currentTheme)}>Tab</SimpleText>\n          {getFieldsByGroup(fields.tab)}\n        </GridElement>\n      </Grid>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}